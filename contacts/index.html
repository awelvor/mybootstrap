<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body onload="myfunc3()">
  <div class="container">
<h1>Contacts</h1>
<button type="button" class="btn btn-primary" onclick="myfunc3()">A-Z</button>

<div id="myDiv"></div>
</div>

    <script src="contacts.js"></script>
    <script>
    
function myfunc1(){
    html='<table class="table table-sm table-hover">';
   tab.forEach(function(el){ html += ligne(el);});
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }
   
function myfunc2(nom){
    html='<table class="table table-sm table-hover">';
   tab.forEach(function(el){ if(el.nom==nom) {html += ligne(el)};});
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }
   
   
function myfunc3(){
	let myref="";
	let html='<table class="table table-sm table-hover">';
	tab.forEach(function(el){ 
		if(el.nom != myref) {
			html += ligne(el);
			myref = el.nom;
			};
	});
	html += "</table>";
	document.getElementById("myDiv").innerHTML = html; 
}

function myfunc4(com){
    html='<table class="table table-sm table-hover">';
   tab.forEach(function(el){ if(el.com==com) {html += ligne(el)};});
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }

function myfunc5(cp){
    html='<table class="table table-sm table-hover">';
   tab2=[];
   tab.forEach(function(el){ if(el.cp != undefined) {tab2.push(el);}});
   tab2.sort(function(el1, el2){ return (el1.cp>el2.cp)? 1:(el1.cp<el2.cp)?-1:0; } ) ;
   tab2.forEach(function(el){  html += ligne(el) } ) ;
   
   
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }
function myfunc6(){
    html='<table class="table table-sm table-hover">';
    tab2=[];
   tab.forEach(function(el){ if(el.fix != undefined) {tab2.push(el);}});
   tab2.sort(function(el1, el2){ return (el1.fix>el2.fix)? 1:(el1.fix<el2.fix)?-1:0; } ) ;
   tab2.forEach(function(el){  html += ligne(el) } ) ;
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }

 function myfunc7(){
    html='<table class="table table-sm table-hover">';
   tab2=[];
   tab.forEach(function(el){ if(el.mob != undefined) {tab2.push(el);}});
   tab2.sort(function(el1, el2){ return (el1.mob>el2.mob)? 1:(el1.mob<el2.mob)?-1:0; } ) ;
   tab2.forEach(function(el){  html += ligne(el) } ) ;
  html += "</table>";
   document.getElementById("myDiv").innerHTML = html; 
   }
   
function ligne(el){
   html = "<tr>";
   html+= '<td class="col-2"><button type="button" class="btn btn-outline-primary btn-sm col-12">'+el.prenom+'</button></td>';    
   html+= '<td class="col-2"><button type="button" class="btn btn-outline-primary btn-sm col-12" onclick="myfunc2(\''+el.nom+'\')">'+el.nom+'</button></td>';  
  (el.fix != undefined)? html += '<td><button type="button" class="btn btn-outline-primary btn-sm" onclick="myfunc6()">'+el.fix+'</button></td>': html += '<td></td>'; 
  (el.mob != undefined)? html += '<td><button type="button" class="btn btn-outline-primary btn-sm" onclick="myfunc7()">'+el.mob+'</button></td>': html += '<td></td>'; 
  (el.cp  != undefined)? html += '<td><button type="button" class="btn btn-outline-primary btn-sm" onclick="myfunc5(\''+el.cp+'\')">'+el.cp +'</button></td>': html += '<td></td>'; 
  if (el.com != undefined){html += '<td class="col-2"><button type="button" class="btn btn-outline-primary btn-sm col-12" onclick="myfunc4(\''+el.com+'\')">'+el.com+'</button></td>';}
  html += '<td><img src="gm.png"></td>';
  html += "</tr>";  
   return html;
}
   
 
      
    </script>
    
    </body>
    </html>
    
